<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Generador de Firma</title>
        <link rel="stylesheet" href="./public/stile.css">
    </head>
    <body>
        <div class="container">
            <h2>Generador de Enlace de Firma</h2>

            <div class="tab-container">
                <div class="tab-buttons">
                    <button
                        class="tab-button active"
                        onclick="openTab('singleTab')"
                    >
                        Firma Individual
                    </button>
                    <button class="tab-button" onclick="openTab('batchTab')">
                        Firma por Lotes (CSV)
                    </button>
                </div>

                <div id="singleTab" class="tab-content active">
                    <label for="urlDescarga"
                        >ğŸ“¥ URL de descarga del documento *</label
                    >
                    <input
                        type="url"
                        id="urlDescarga"
                        placeholder="https://tusitio.com/api/descargar-documento.pdf"
                        required,
                        value="http://localhost:8080/girasol/api.php?op=sign_download&codigo=a1f45880-81f4-4e2c-9fed-3c0a098d8cf2"
                    />

                    <label for="urlSubida"
                        >ğŸ“¤ URL para enviar el documento firmado *</label
                    >
                    <input
                        type="url"
                        id="urlSubida"
                        placeholder="https://tusitio.com/api/subir-documento"
                        required,
                        value="http://localhost:8080/girasol/api.php?op=sign_upload&codigo=a1f45880-81f4-4e2c-9fed-3c0a098d8cf2"
                    />

                    <label>ğŸ–‹ï¸ Coordenadas y TamaÃ±o de Firma</label>
                    <div class="flex-group">
                        <input
                            type="number"
                            id="x"
                            placeholder="X"
                            value="340"
                        />
                        <input
                            type="number"
                            id="y"
                            placeholder="Y"
                            value="104"
                        />
                        <input
                            type="number"
                            id="width"
                            placeholder="Ancho"
                            value="150"
                        />
                        <input
                            type="number"
                            id="height"
                            placeholder="Alto"
                            value="40"
                        />
                    </div>

                    <label>ğŸ“ TamaÃ±o de texto y pÃ¡gina</label>
                    <div class="flex-group">
                        <input
                            type="number"
                            id="textSize"
                            placeholder="TamaÃ±o del texto"
                            value="6"
                        />
                        <input
                            type="number"
                            id="page"
                            placeholder="PÃ¡gina"
                            value="-1"
                        />
                    </div>

                    <label>ğŸ“„ Texto de firma</label>
                    <textarea id="sigText">
&lt;SIGNER&gt;
Fecha: &lt;DATE&gt;
OU: &lt;OU&gt;
Firmado por: Firmeasy.legal</textarea
                    >

                    <hr />
                    <h4 style="margin-top: 0">âš™ï¸ Opcionales</h4>

                    <label>ğŸ–¼ï¸ URL de imagen (firma grÃ¡fica)</label>
                    <input
                        type="text"
                        id="graphic"
                        placeholder="https://ejemplo.com/firma.png",
                    />
                    <p class="optional">
                        Ejemplo: https://cdn.midominio.com/firma.png
                    </p>

                    <label>ğŸ•“ URL del TSP (Timestamp)</label>
                    <input
                        type="text"
                        id="tsp"
                        placeholder="http://localhost:8080/api/tsp",
                    />

                    <button onclick="generarEnlace()">
                        Generar y abrir enlace
                    </button>

                    <div id="output"></div>
                </div>

<div id="batchTab" class="tab-content">
    <h3>Generador de Firma por Lotes (CSV)</h3>

    <div class="flex-group">
        <div style="flex: 1">
            <label for="batchUrlDescarga">ğŸ“¥ URL de descarga del documento *</label>
            <input
                type="url"
                id="batchUrlDescarga"
                placeholder="https://tusitio.com/api/descargar-documento.pdf"
                required
            />
        </div>
        <div style="flex: 1">
            <label for="batchUrlSubida">ğŸ“¤ URL para enviar el documento firmado *</label>
            <input
                type="url"
                id="batchUrlSubida"
                placeholder="https://tusitio.com/api/subir-documento"
                required
            />
        </div>
    </div>

    <label for="batchFileName">ğŸ“„ Nombre del archivo *</label>
    <input
        type="text"
        id="batchFileName"
        placeholder="documento.pdf"
        required
    />

    <label>ğŸ–‹ï¸ Coordenadas y TamaÃ±o de Firma</label>
    <div class="flex-group">
        <input type="number" id="batchX" placeholder="X" value="340" />
        <input type="number" id="batchY" placeholder="Y" value="104" />
        <input type="number" id="batchWidth" placeholder="Ancho" value="150" />
        <input type="number" id="batchHeight" placeholder="Alto" value="40" />
    </div>

    <label>ğŸ“ TamaÃ±o de texto y pÃ¡gina</label>
    <div class="flex-group">
        <input type="number" id="batchTextSize" placeholder="TamaÃ±o del texto" value="6" />
        <input type="number" id="batchPage" placeholder="PÃ¡gina" value="1" />
    </div>

    <label>ğŸ“„ Texto de firma</label>
    <textarea id="batchSigText">
&lt;SIGNER&gt;
Fecha: &lt;DATE&gt;
OU: &lt;OU&gt;
Firmado por: Firmeasy.legal</textarea>

    <label>ğŸ–¼ï¸ URL de imagen (firma grÃ¡fica)</label>
    <input type="text" id="batchGraphic" placeholder="https://ejemplo.com/firma.png" />
    <p class="optional">Ejemplo: https://cdn.midominio.com/firma.png</p>

    <button class="small-btn" id="addSignatureBtn">Agregar firma a la lista</button>

    <table id="signaturesTable">
        <thead>
            <tr>
                <th>URL Descarga</th>
                <th>URL Subida</th>
                <th>Archivo</th>
                <th>X</th>
                <th>Y</th>
                <th>Ancho</th>
                <th>Alto</th>
                <th>PÃ¡gina</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody id="signaturesList"></tbody>
    </table>

    <div style="margin-top: 20px">
        <label for="batchTsp">ğŸ•“ URL del TSP (Timestamp)</label>
        <input
            type="text"
            id="batchTsp"
            placeholder="http://localhost:8080/girasol/api.php?op=csv&csv=tsp"
        />

        <button id="generateBatchBtn">Generar y abrir enlace por lotes</button>
    </div>

    <div id="batchOutput"></div>
</div>
            </div>
        </div>
        <script src="./public/tabs.js"></script>
        <script src="./public/single-signature.js"></script>
        <script src="./public/batch-signature.js"></script>
    </body>
</html>
